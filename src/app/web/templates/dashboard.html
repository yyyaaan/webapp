{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container-fluid">
    
    <div class="card mb-4">
        <div class="card-body text-center p-5">
            <button class="btn btn-outline-danger btn-floating" 
                    style="position: absolute; top: 15px; right: 15px;"
                    hx-post="/auth/logout" 
                    hx-target="body"
                    title="Logout">
                <i class="fas fa-sign-out-alt"></i>
            </button>
            
            <img src="{{ user.picture or '/static/avatar.jpg' }}" 
                 alt="Profile Picture" 
                 class="rounded-circle mb-4" 
                 style="width: 100px; height: 100px; object-fit: cover; border: 3px solid #eee;">
            
            <h1 class="display-4">Welcome, <strong>{{ user.name }}!</strong></h1>
            
            <p class="lead text-muted">{{ user.email }}</p>
            
            <hr class="my-4">
            
            <p>You are logged in as a <strong>{{ user.role|capitalize }}</strong>.</p>
        </div>
    </div>

    {% if user.role == 'admin' %}
    <div class="card mb-4">
        <div class="card-body p-4">
            <h4 class="card-title">API Key Management</h4>
            {% include "_partials/_api_key_manager.html" %}
        </div>
    </div>

    <div class="card">
        <div class="card-body p-4">
            <h4 class="card-title">System Settings</h4>
            {% include "_partials/_system_settings.html" %}
        </div>
    </div>
    {% endif %}

</div>
{% endblock %}